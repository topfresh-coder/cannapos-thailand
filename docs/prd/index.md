# Cannabis Dispensary POS System - Product Requirements Document (PRD)

## Table of Contents

- [Cannabis Dispensary POS System - Product Requirements Document (PRD)](#table-of-contents)
  - [Goals and Background Context](./goals-and-background-context.md)
    - [Goals](./goals-and-background-context.md#goals)
    - [Background Context](./goals-and-background-context.md#background-context)
    - [Future Enhancements (Post-MVP)](./goals-and-background-context.md#future-enhancements-post-mvp)
    - [Change Log](./goals-and-background-context.md#change-log)
  - [Requirements](./requirements.md)
    - [Functional Requirements](./requirements.md#functional-requirements)
    - [Non-Functional Requirements](./requirements.md#non-functional-requirements)
  - [User Interface Design Goals](./user-interface-design-goals.md)
    - [Overall UX Vision](./user-interface-design-goals.md#overall-ux-vision)
    - [Key Interaction Paradigms](./user-interface-design-goals.md#key-interaction-paradigms)
    - [Core Screens and Views](./user-interface-design-goals.md#core-screens-and-views)
    - [Accessibility](./user-interface-design-goals.md#accessibility)
    - [Branding](./user-interface-design-goals.md#branding)
    - [Target Device and Platforms](./user-interface-design-goals.md#target-device-and-platforms)
  - [Technical Assumptions](./technical-assumptions.md)
    - [Repository Structure: Monorepo](./technical-assumptions.md#repository-structure-monorepo)
    - [Service Architecture: Client-side SPA + Managed Backend (Supabase)](./technical-assumptions.md#service-architecture-client-side-spa-managed-backend-supabase)
    - [Testing Strategy: Unit + Integration Testing](./technical-assumptions.md#testing-strategy-unit-integration-testing)
    - [Frontend Stack](./technical-assumptions.md#frontend-stack)
    - [Backend Stack](./technical-assumptions.md#backend-stack)
    - [Deployment & Infrastructure](./technical-assumptions.md#deployment-infrastructure)
    - [Development Tools](./technical-assumptions.md#development-tools)
    - [Additional Technical Assumptions and Requests](./technical-assumptions.md#additional-technical-assumptions-and-requests)
  - [Epic List](./epic-list.md)
  - [Epic 1: Foundation & Core Infrastructure](./epic-1-foundation-core-infrastructure.md)
    - [Story 1.1: Project Setup & Development Environment](./epic-1-foundation-core-infrastructure.md#story-11-project-setup-development-environment)
      - [Acceptance Criteria](./epic-1-foundation-core-infrastructure.md#acceptance-criteria)
    - [Story 1.2: Supabase Project Setup & Database Schema](./epic-1-foundation-core-infrastructure.md#story-12-supabase-project-setup-database-schema)
      - [Acceptance Criteria](./epic-1-foundation-core-infrastructure.md#acceptance-criteria)
    - [Story 1.3: Authentication System](./epic-1-foundation-core-infrastructure.md#story-13-authentication-system)
      - [Acceptance Criteria](./epic-1-foundation-core-infrastructure.md#acceptance-criteria)
    - [Story 1.4: Basic Product Catalog Seeding](./epic-1-foundation-core-infrastructure.md#story-14-basic-product-catalog-seeding)
      - [Acceptance Criteria](./epic-1-foundation-core-infrastructure.md#acceptance-criteria)
    - [Story 1.5: POS Main Screen - Product Search & Selection](./epic-1-foundation-core-infrastructure.md#story-15-pos-main-screen-product-search-selection)
      - [Acceptance Criteria](./epic-1-foundation-core-infrastructure.md#acceptance-criteria)
    - [Story 1.6: Cart Management & Quantity Adjustment](./epic-1-foundation-core-infrastructure.md#story-16-cart-management-quantity-adjustment)
      - [Acceptance Criteria](./epic-1-foundation-core-infrastructure.md#acceptance-criteria)
    - [Story 1.7: Simple Checkout & Transaction Recording](./epic-1-foundation-core-infrastructure.md#story-17-simple-checkout-transaction-recording)
      - [Acceptance Criteria](./epic-1-foundation-core-infrastructure.md#acceptance-criteria)
    - [Story 1.8: Receipt Display & Print Preparation](./epic-1-foundation-core-infrastructure.md#story-18-receipt-display-print-preparation)
      - [Acceptance Criteria](./epic-1-foundation-core-infrastructure.md#acceptance-criteria)
    - [Story 1.9: Navigation & Basic Layout](./epic-1-foundation-core-infrastructure.md#story-19-navigation-basic-layout)
      - [Acceptance Criteria](./epic-1-foundation-core-infrastructure.md#acceptance-criteria)
    - [Story 1.10: Deployment Pipeline & Hosting](./epic-1-foundation-core-infrastructure.md#story-110-deployment-pipeline-hosting)
      - [Acceptance Criteria](./epic-1-foundation-core-infrastructure.md#acceptance-criteria)
  - [Epic 2: Product Management & Inventory Foundation](./epic-2-product-management-inventory-foundation.md)
    - [Story 2.1: Product List & Search Interface](./epic-2-product-management-inventory-foundation.md#story-21-product-list-search-interface)
      - [Acceptance Criteria](./epic-2-product-management-inventory-foundation.md#acceptance-criteria)
    - [Story 2.2: Create New Product](./epic-2-product-management-inventory-foundation.md#story-22-create-new-product)
      - [Acceptance Criteria](./epic-2-product-management-inventory-foundation.md#acceptance-criteria)
    - [Story 2.3: Edit & Delete Product](./epic-2-product-management-inventory-foundation.md#story-23-edit-delete-product)
      - [Acceptance Criteria](./epic-2-product-management-inventory-foundation.md#acceptance-criteria)
    - [Story 2.4: Product Detail View with Batch History](./epic-2-product-management-inventory-foundation.md#story-24-product-detail-view-with-batch-history)
      - [Acceptance Criteria](./epic-2-product-management-inventory-foundation.md#acceptance-criteria)
    - [Story 2.5: Receive New Product Batch](./epic-2-product-management-inventory-foundation.md#story-25-receive-new-product-batch)
      - [Acceptance Criteria](./epic-2-product-management-inventory-foundation.md#acceptance-criteria)
    - [Story 2.6: Tare Weight Entry During POS Transaction](./epic-2-product-management-inventory-foundation.md#story-26-tare-weight-entry-during-pos-transaction)
      - [Acceptance Criteria](./epic-2-product-management-inventory-foundation.md#acceptance-criteria)
    - [Story 2.7: FIFO Inventory Allocation Engine](./epic-2-product-management-inventory-foundation.md#story-27-fifo-inventory-allocation-engine)
      - [Acceptance Criteria](./epic-2-product-management-inventory-foundation.md#acceptance-criteria)
    - [Story 2.8: Inventory Adjustment (Manual Correction)](./epic-2-product-management-inventory-foundation.md#story-28-inventory-adjustment-manual-correction)
      - [Acceptance Criteria](./epic-2-product-management-inventory-foundation.md#acceptance-criteria)
    - [Story 2.9: Low Stock Alert Indicator](./epic-2-product-management-inventory-foundation.md#story-29-low-stock-alert-indicator)
      - [Acceptance Criteria](./epic-2-product-management-inventory-foundation.md#acceptance-criteria)
    - [Story 2.10: Batch Expiration Tracking (Optional for MVP)](./epic-2-product-management-inventory-foundation.md#story-210-batch-expiration-tracking-optional-for-mvp)
      - [Acceptance Criteria](./epic-2-product-management-inventory-foundation.md#acceptance-criteria)
  - [Epic 3: Tiered Pricing Engine](./epic-3-tiered-pricing-engine.md)
    - [Story 3.1: Tiered Pricing Configuration](./epic-3-tiered-pricing-engine.md#story-31-tiered-pricing-configuration)
      - [Acceptance Criteria](./epic-3-tiered-pricing-engine.md#acceptance-criteria)
    - [Story 3.2: Real-Time Tiered Price Calculation in Cart](./epic-3-tiered-pricing-engine.md#story-32-real-time-tiered-price-calculation-in-cart)
      - [Acceptance Criteria](./epic-3-tiered-pricing-engine.md#acceptance-criteria)
    - [Story 3.3: Tier Progression Indicator](./epic-3-tiered-pricing-engine.md#story-33-tier-progression-indicator)
      - [Acceptance Criteria](./epic-3-tiered-pricing-engine.md#acceptance-criteria)
    - [Story 3.4: Mixed Cart Pricing Logic](./epic-3-tiered-pricing-engine.md#story-34-mixed-cart-pricing-logic)
      - [Acceptance Criteria](./epic-3-tiered-pricing-engine.md#acceptance-criteria)
    - [Story 3.5: Tier Price Override (Manager Authorization)](./epic-3-tiered-pricing-engine.md#story-35-tier-price-override-manager-authorization)
      - [Acceptance Criteria](./epic-3-tiered-pricing-engine.md#acceptance-criteria)
    - [Story 3.6: Tier History & Analytics (Basic)](./epic-3-tiered-pricing-engine.md#story-36-tier-history-analytics-basic)
      - [Acceptance Criteria](./epic-3-tiered-pricing-engine.md#acceptance-criteria)
    - [Story 3.7: Tier Pricing Business Rules Engine](./epic-3-tiered-pricing-engine.md#story-37-tier-pricing-business-rules-engine)
      - [Acceptance Criteria](./epic-3-tiered-pricing-engine.md#acceptance-criteria)
    - [Story 3.8: Tier Pricing for Tare Weight Transactions](./epic-3-tiered-pricing-engine.md#story-38-tier-pricing-for-tare-weight-transactions)
      - [Acceptance Criteria](./epic-3-tiered-pricing-engine.md#acceptance-criteria)
    - [Story 3.9: Tier Pricing Validation & Error Handling](./epic-3-tiered-pricing-engine.md#story-39-tier-pricing-validation-error-handling)
      - [Acceptance Criteria](./epic-3-tiered-pricing-engine.md#acceptance-criteria)
    - [Story 3.10: Tier Pricing Documentation & Training Materials](./epic-3-tiered-pricing-engine.md#story-310-tier-pricing-documentation-training-materials)
      - [Acceptance Criteria](./epic-3-tiered-pricing-engine.md#acceptance-criteria)
  - [Epic 4: Shift Reconciliation System](./epic-4-shift-reconciliation-system.md)
    - [Story 4.1: Shift Definition & Configuration](./epic-4-shift-reconciliation-system.md#story-41-shift-definition-configuration)
      - [Acceptance Criteria](./epic-4-shift-reconciliation-system.md#acceptance-criteria)
    - [Story 4.2: Shift Opening - Cash Float Entry](./epic-4-shift-reconciliation-system.md#story-42-shift-opening-cash-float-entry)
      - [Acceptance Criteria](./epic-4-shift-reconciliation-system.md#acceptance-criteria)
    - [Story 4.3: Transaction Assignment to Active Shift](./epic-4-shift-reconciliation-system.md#story-43-transaction-assignment-to-active-shift)
      - [Acceptance Criteria](./epic-4-shift-reconciliation-system.md#acceptance-criteria)
    - [Story 4.4: Shift Summary Dashboard (Real-Time)](./epic-4-shift-reconciliation-system.md#story-44-shift-summary-dashboard-real-time)
      - [Acceptance Criteria](./epic-4-shift-reconciliation-system.md#acceptance-criteria)
    - [Story 4.5: Shift Closing - Cash Count Entry](./epic-4-shift-reconciliation-system.md#story-45-shift-closing-cash-count-entry)
      - [Acceptance Criteria](./epic-4-shift-reconciliation-system.md#acceptance-criteria)
    - [Story 4.6: Manager Shift Approval Workflow](./epic-4-shift-reconciliation-system.md#story-46-manager-shift-approval-workflow)
      - [Acceptance Criteria](./epic-4-shift-reconciliation-system.md#acceptance-criteria)
    - [Story 4.7: Shift Reconciliation History & Reporting](./epic-4-shift-reconciliation-system.md#story-47-shift-reconciliation-history-reporting)
      - [Acceptance Criteria](./epic-4-shift-reconciliation-system.md#acceptance-criteria)
    - [Story 4.8: Shift Variance Alerts & Notifications](./epic-4-shift-reconciliation-system.md#story-48-shift-variance-alerts-notifications)
      - [Acceptance Criteria](./epic-4-shift-reconciliation-system.md#acceptance-criteria)
    - [Story 4.9: Forced Shift Close (Manager Override)](./epic-4-shift-reconciliation-system.md#story-49-forced-shift-close-manager-override)
      - [Acceptance Criteria](./epic-4-shift-reconciliation-system.md#acceptance-criteria)
    - [Story 4.10: Shift Handoff Notes](./epic-4-shift-reconciliation-system.md#story-410-shift-handoff-notes)
      - [Acceptance Criteria](./epic-4-shift-reconciliation-system.md#acceptance-criteria)
  - [Epic 5: Stock Management & Weekly Count](./epic-5-stock-management-weekly-count.md)
    - [Story 5.1: Inventory Dashboard Overview](./epic-5-stock-management-weekly-count.md#story-51-inventory-dashboard-overview)
      - [Acceptance Criteria](./epic-5-stock-management-weekly-count.md#acceptance-criteria)
    - [Story 5.2: Batch Movement History Tracking](./epic-5-stock-management-weekly-count.md#story-52-batch-movement-history-tracking)
      - [Acceptance Criteria](./epic-5-stock-management-weekly-count.md#acceptance-criteria)
    - [Story 5.3: Automated Batch Depletion Status](./epic-5-stock-management-weekly-count.md#story-53-automated-batch-depletion-status)
      - [Acceptance Criteria](./epic-5-stock-management-weekly-count.md#acceptance-criteria)
    - [Story 5.4: Weekly Stock Count Workflow - Initialization](./epic-5-stock-management-weekly-count.md#story-54-weekly-stock-count-workflow-initialization)
      - [Acceptance Criteria](./epic-5-stock-management-weekly-count.md#acceptance-criteria)
    - [Story 5.5: Stock Count Entry - Product Counting](./epic-5-stock-management-weekly-count.md#story-55-stock-count-entry-product-counting)
      - [Acceptance Criteria](./epic-5-stock-management-weekly-count.md#acceptance-criteria)
    - [Story 5.6: Stock Count Review & Variance Analysis](./epic-5-stock-management-weekly-count.md#story-56-stock-count-review-variance-analysis)
      - [Acceptance Criteria](./epic-5-stock-management-weekly-count.md#acceptance-criteria)
    - [Story 5.7: Stock Count Finalization & Inventory Adjustment](./epic-5-stock-management-weekly-count.md#story-57-stock-count-finalization-inventory-adjustment)
      - [Acceptance Criteria](./epic-5-stock-management-weekly-count.md#acceptance-criteria)
    - [Story 5.8: Stock Count History & Reporting](./epic-5-stock-management-weekly-count.md#story-58-stock-count-history-reporting)
      - [Acceptance Criteria](./epic-5-stock-management-weekly-count.md#acceptance-criteria)
    - [Story 5.9: Scheduled Stock Count Reminders](./epic-5-stock-management-weekly-count.md#story-59-scheduled-stock-count-reminders)
      - [Acceptance Criteria](./epic-5-stock-management-weekly-count.md#acceptance-criteria)
    - [Story 5.10: Cycle Count (Partial Stock Count)](./epic-5-stock-management-weekly-count.md#story-510-cycle-count-partial-stock-count)
      - [Acceptance Criteria](./epic-5-stock-management-weekly-count.md#acceptance-criteria)
  - [Epic 6: Reporting Suite & Dashboard](./epic-6-reporting-suite-dashboard.md)
    - [Story 6.1: Report Navigation & Central Hub](./epic-6-reporting-suite-dashboard.md#story-61-report-navigation-central-hub)
      - [Acceptance Criteria](./epic-6-reporting-suite-dashboard.md#acceptance-criteria)
    - [Story 6.2: Sales by Product Category Report](./epic-6-reporting-suite-dashboard.md#story-62-sales-by-product-category-report)
      - [Acceptance Criteria](./epic-6-reporting-suite-dashboard.md#acceptance-criteria)
    - [Story 6.3: Daily Sales Summary Report](./epic-6-reporting-suite-dashboard.md#story-63-daily-sales-summary-report)
      - [Acceptance Criteria](./epic-6-reporting-suite-dashboard.md#acceptance-criteria)
    - [Story 6.4: Sales by Shift Report](./epic-6-reporting-suite-dashboard.md#story-64-sales-by-shift-report)
      - [Acceptance Criteria](./epic-6-reporting-suite-dashboard.md#acceptance-criteria)
    - [Story 6.5: Top Products Report](./epic-6-reporting-suite-dashboard.md#story-65-top-products-report)
      - [Acceptance Criteria](./epic-6-reporting-suite-dashboard.md#acceptance-criteria)
    - [Story 6.6: Inventory Valuation Report](./epic-6-reporting-suite-dashboard.md#story-66-inventory-valuation-report)
      - [Acceptance Criteria](./epic-6-reporting-suite-dashboard.md#acceptance-criteria)
    - [Story 6.7: Low Stock Alert Report](./epic-6-reporting-suite-dashboard.md#story-67-low-stock-alert-report)
      - [Acceptance Criteria](./epic-6-reporting-suite-dashboard.md#acceptance-criteria)
    - [Story 6.8: Inventory Movement Report](./epic-6-reporting-suite-dashboard.md#story-68-inventory-movement-report)
      - [Acceptance Criteria](./epic-6-reporting-suite-dashboard.md#acceptance-criteria)
    - [Story 6.9: Cashier Performance Report](./epic-6-reporting-suite-dashboard.md#story-69-cashier-performance-report)
      - [Acceptance Criteria](./epic-6-reporting-suite-dashboard.md#acceptance-criteria)
    - [Story 6.10: Multi-Location Dashboard](./epic-6-reporting-suite-dashboard.md#story-610-multi-location-dashboard)
      - [Acceptance Criteria](./epic-6-reporting-suite-dashboard.md#acceptance-criteria)
  - [Epic 7: UAT, Polish & Pilot Deployment](./epic-7-uat-polish-pilot-deployment.md)
    - [Story 7.1: End-to-End UAT Test Plan & Execution](./epic-7-uat-polish-pilot-deployment.md#story-71-end-to-end-uat-test-plan-execution)
      - [Acceptance Criteria](./epic-7-uat-polish-pilot-deployment.md#acceptance-criteria)
    - [Story 7.2: Performance Optimization & Load Testing](./epic-7-uat-polish-pilot-deployment.md#story-72-performance-optimization-load-testing)
      - [Acceptance Criteria](./epic-7-uat-polish-pilot-deployment.md#acceptance-criteria)
    - [Story 7.3: Mobile & Tablet Responsiveness Polish](./epic-7-uat-polish-pilot-deployment.md#story-73-mobile-tablet-responsiveness-polish)
      - [Acceptance Criteria](./epic-7-uat-polish-pilot-deployment.md#acceptance-criteria)
    - [Story 7.4: Accessibility Compliance (WCAG AA)](./epic-7-uat-polish-pilot-deployment.md#story-74-accessibility-compliance-wcag-aa)
      - [Acceptance Criteria](./epic-7-uat-polish-pilot-deployment.md#acceptance-criteria)
    - [Story 7.5: User Training Materials & Documentation](./epic-7-uat-polish-pilot-deployment.md#story-75-user-training-materials-documentation)
      - [Acceptance Criteria](./epic-7-uat-polish-pilot-deployment.md#acceptance-criteria)
    - [Story 7.6: Data Migration & Seeding for Pilot](./epic-7-uat-polish-pilot-deployment.md#story-76-data-migration-seeding-for-pilot)
      - [Acceptance Criteria](./epic-7-uat-polish-pilot-deployment.md#acceptance-criteria)
    - [Story 7.7: Production Deployment & Monitoring Setup](./epic-7-uat-polish-pilot-deployment.md#story-77-production-deployment-monitoring-setup)
      - [Acceptance Criteria](./epic-7-uat-polish-pilot-deployment.md#acceptance-criteria)
    - [Story 7.8: Pilot Launch & On-Site Support](./epic-7-uat-polish-pilot-deployment.md#story-78-pilot-launch-on-site-support)
      - [Acceptance Criteria](./epic-7-uat-polish-pilot-deployment.md#acceptance-criteria)
    - [Story 7.9: Post-Pilot Feedback Collection & Iteration](./epic-7-uat-polish-pilot-deployment.md#story-79-post-pilot-feedback-collection-iteration)
      - [Acceptance Criteria](./epic-7-uat-polish-pilot-deployment.md#acceptance-criteria)
    - [Story 7.10: Production Hardening & Scale Preparation](./epic-7-uat-polish-pilot-deployment.md#story-710-production-hardening-scale-preparation)
      - [Acceptance Criteria](./epic-7-uat-polish-pilot-deployment.md#acceptance-criteria)
  - [Checklist Results Report](./checklist-results-report.md)
    - [Executive Summary](./checklist-results-report.md#executive-summary)
    - [Category Analysis](./checklist-results-report.md#category-analysis)
    - [Final Decision](./checklist-results-report.md#final-decision)
  - [Next Steps](./next-steps.md)
    - [UX Expert Prompt](./next-steps.md#ux-expert-prompt)
    - [Architect Prompt](./next-steps.md#architect-prompt)
